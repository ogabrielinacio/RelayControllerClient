<div class="profile-container">
  <h2>Perfil</h2>

  <div class="profile-info">
    <div class="field">
      <span class="label">Nome:</span>
      <span class="value">{{ user.name }}</span>
      <button class="icon-btn" (click)="showEditNameModal = true" title="Editar nome">✏️</button>
    </div>

    <div class="field">
      <span class="label">Email:</span>
      <span class="value">{{ user.email }}</span>
      <button class="icon-btn" (click)="showEditEmailModal = true" title="Editar e-mail">✏️</button>
    </div>
  </div>

  <button class="password-btn" (click)="showChangePasswordModal = true">
    Trocar Senha
  </button>

  <button class="delete-account-btn" (click)="deleteAccount()">
    Deletar Conta
  </button>

  @if (showEditEmailModal) {
    <app-edit-email (close)="closeModals()" (updated)="onEmailUpdated($event)" />
  }

  @if (showEditNameModal) {
    <app-edit-name (close)="closeModals()" (updated)="onNameUpdated($event)" />
  }

  @if (showChangePasswordModal) {
    <app-change-password (close)="closeModals()" (updated)="onPasswordUpdated($event)" />
  }
</div>
